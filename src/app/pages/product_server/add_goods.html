<div class="g-view">
  <div class="container-fluid">
    <h2>服务报价规格-管理商品</h2>
    <hr>
    <form class="form-horizontal" autocomplete="off" name="price" role="form" novalidate>
      <div alert type="warning" ng-if="alertWarning">
        <p ng-bind="alertWarning"></p>
      </div>
      <div class="list" style="max-height:300px; overflow-y: auto;">
        <table class="table">
          <thead>
          <tr>
            <th>商品名称</th>
            <th>商品类目</th>
            <th>商品单价（元）</th>
            <th>商品数量（最大999）</th>
            <th>商品小计（元）</th>
            <th>上架状态</th>
            <th>操作</th>
          </tr>
          </thead>
          <tbody>
            <tr ng-repeat="item in vm.items track by $index">
              <td><span class="state-unread" ng-bind="item.productname"></span></td>
              <td><span class="state-unread" ng-bind="item.pcatename2"></span></td>
              <td><span class="state-unread" ng-bind="item.saleprice | moneyFilter"></span></td>
              <td><input type="text" class="form-control" ng-model="item.numbers" cb-number-range="" data-value-min="0" data-value-max="999" placeholder="请输入1-999以内的整数" cb-placeholder ng-blur="vm.compute(item)"></td>
              <td><span class="state-unread" ng-bind="item.subtotal | moneyFilter"></span></td>
              <td><span class="state-unread" ng-class="{'text-danger': item.status == 0}" ng-bind="item.status == 0 ? '下架' : '上架'"></span></td>
              <td><button class="btn btn-danger" ng-click="vm.remove(item)">删除</button></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="text-right">
        商品总计（元）：<span class="h4" ng-bind="vm.totalprice | moneyFilter"></span>
      </div>
      <div class="row">
        <div class="col-lg-3 col-sm-6">
          <div simple-select="id,catename" store="vm.selectModel.search1.store" select="vm.selectModel.search1.select" select-handler="vm.selectModel.search1.handler(data)" placeholder="点击选择商品大类"></div>
        </div>
        <div class="col-lg-3 col-sm-6">
          <div simple-select="id,catename" store="vm.selectModel.search2.store" select="vm.selectModel.search2.select" placeholder="点击选择商品子类"></div>
        </div>
        <div class="col-lg-3 col-sm-6">
          <input type="text" id="goods_add_name" class="form-control" name="productname" ng-model="vm.selectModel.searchText" ng-maxlength="40" placeholder="请输入商品名称" cb-placeholder>
        </div>
        <div class="col-lg-3 col-sm-6">
          <button type="button" class="btn btn-success" ng-click="vm.selectModel.searchHandler()">查找</button>
          <button type="button" class="btn btn-success" ng-click="vm.selectModel.resetHandler()">重置</button>
        </div>
      </div>
      <div>
        <div ng-if="vm.gridModel.columns.length" simple-grid columns="vm.gridModel.columns" store="vm.gridModel.itemList" pagination-info="vm.gridModel.paginationinfo" loading-state="vm.gridModel.loadingState" config="vm.gridModel.config" page-changed="vm.gridModel.pageChanged(page)"></div>
      </div>
        <div class="text-center">
          <button type="button" class="btn btn-primary" ng-click="vm.goBack(true)">确认</button>
          <button type="button" class="btn" ng-click="vm.goBack(false)">返回</button>
        </div>
      </div>
    </form>
  </div>
</div>
